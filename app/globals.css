@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* ═══════════════════════════════════════════════════════
   DESIGN SYSTEM — Farmácia10x
   Inspiração: Apple HIG · macOS Sonoma · iOS 17
   ═══════════════════════════════════════════════════════ */

/* ── Paleta Light ── */
:root {
  color-scheme: light;

  /* Fundo */
  --background: #F2F2F7;
  /* Apple systemGroupedBackground */
  --background-raised: #FFFFFF;

  /* Texto */
  --foreground: #1C1C1E;
  /* Apple label */
  --foreground-2: #3A3A3C;
  /* Apple secondaryLabel */
  --foreground-3: #636366;
  /* Apple tertiaryLabel */
  --foreground-4: #8E8E93;
  /* Apple quaternaryLabel */

  /* Superfícies */
  --card: rgba(255, 255, 255, 0.82);
  --card-foreground: #1C1C1E;
  --surface: rgba(255, 255, 255, 0.72);
  --surface-raised: rgba(255, 255, 255, 0.96);

  /* Bordas */
  --border: rgba(0, 0, 0, 0.09);
  --border-focus: rgba(0, 113, 227, 0.50);

  /* Primária — Apple Blue */
  --primary: #0071E3;
  --primary-hover: #0077ED;
  --primary-foreground: #FFFFFF;

  /* Separadores */
  --separator: rgba(60, 60, 67, 0.12);
}

/* ── Paleta Dark ── */
[class~='dark'] {
  color-scheme: dark;

  /* Fundo */
  --background: #000000;
  /* Apple systemBackground dark */
  --background-raised: #1C1C1E;

  /* Texto */
  --foreground: #F5F5F7;
  --foreground-2: #EBEBF5cc;
  /* 80% */
  --foreground-3: #EBEBF560;
  /* 38% */
  --foreground-4: #EBEBF530;
  /* 19% */

  /* Superfícies */
  --card: rgba(28, 28, 30, 0.90);
  --card-foreground: #F5F5F7;
  --surface: rgba(44, 44, 46, 0.85);
  --surface-raised: rgba(58, 58, 60, 0.90);

  /* Bordas */
  --border: rgba(255, 255, 255, 0.10);
  --border-focus: rgba(10, 132, 255, 0.60);

  /* Primária — Apple Blue Dark */
  --primary: #0A84FF;
  --primary-hover: #409CFF;
  --primary-foreground: #FFFFFF;

  /* Separadores */
  --separator: rgba(84, 84, 88, 0.65);
}

/* ── Mapeamento para Tailwind ── */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
}

/* ═══════════════════════════════════════════════════════
   TIPOGRAFIA
   ═══════════════════════════════════════════════════════ */

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), -apple-system, BlinkMacSystemFont, 'SF Pro Text', ui-sans-serif, system-ui, sans-serif;
  transition: background-color 0.5s ease, color 0.3s ease;
  overflow-x: hidden;
  letter-spacing: -0.014em;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11', 'ss01';
}

h1 {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.038em;
  line-height: 1.07;
}

h2 {
  font-size: 22px;
  font-weight: 700;
  letter-spacing: -0.028em;
  line-height: 1.12;
}

h3 {
  font-size: 17px;
  font-weight: 600;
  letter-spacing: -0.020em;
  line-height: 1.24;
}

h4 {
  font-size: 15px;
  font-weight: 600;
  letter-spacing: -0.016em;
  line-height: 1.33;
}

/* Labels uppercase — espaçamento calibrado */
.uppercase {
  letter-spacing: 0.05em;
}

/* font-black — Apple usa -0.03em nos títulos bold */
.font-black {
  letter-spacing: -0.030em;
}

.font-bold {
  letter-spacing: -0.018em;
}

/* Números — Geist Mono para alinhamento tabular perfeito */
.tabular-nums {
  font-family: var(--font-geist-mono), 'SF Mono', ui-monospace, monospace;
  font-feature-settings: 'tnum', 'salt';
  letter-spacing: -0.018em;
}

/* ═══════════════════════════════════════════════════════
   GLASS CARD — Apple vibrancy / frosted glass
   ═══════════════════════════════════════════════════════ */

/* Modo Claro */
.glass-card {
  backdrop-filter: blur(20px) saturate(160%);
  -webkit-backdrop-filter: blur(20px) saturate(160%);
  background-color: var(--card);
  border: 1px solid var(--separator);
  border-radius: 16px;
  box-shadow:
    0 1px 0 0 rgba(255, 255, 255, 0.90) inset,
    /* brilho topo */
    0 0 0 0.5px rgba(0, 0, 0, 0.06),
    /* ring fino */
    0 2px 8px -2px rgba(0, 0, 0, 0.06),
    0 8px 24px -4px rgba(0, 0, 0, 0.05);
  transition: all 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
}

.glass-card:hover {
  transform: translateY(-2px);
  box-shadow:
    0 1px 0 0 rgba(255, 255, 255, 0.95) inset,
    0 0 0 0.5px rgba(0, 0, 0, 0.08),
    0 4px 16px -4px rgba(0, 0, 0, 0.09),
    0 16px 48px -8px rgba(0, 0, 0, 0.08);
  border-color: rgba(0, 113, 227, 0.14);
}

/* Modo Escuro */
.dark .glass-card {
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  background: linear-gradient(160deg,
      rgba(255, 255, 255, 0.065) 0%,
      rgba(255, 255, 255, 0.025) 100%);
  border: 1px solid rgba(255, 255, 255, 0.090);
  box-shadow:
    0 1px 0 0 rgba(255, 255, 255, 0.085) inset,
    /* reflexo topo */
    0 -1px 0 0 rgba(0, 0, 0, 0.40) inset,
    /* sombra fundo */
    0 2px 12px -2px rgba(0, 0, 0, 0.50),
    0 8px 32px -4px rgba(0, 0, 0, 0.55);
}

.dark .glass-card:hover {
  transform: translateY(-2px);
  background: linear-gradient(160deg,
      rgba(255, 255, 255, 0.090) 0%,
      rgba(255, 255, 255, 0.038) 100%);
  border-color: rgba(10, 132, 255, 0.24);
  box-shadow:
    0 1px 0 0 rgba(255, 255, 255, 0.110) inset,
    0 -1px 0 0 rgba(0, 0, 0, 0.40) inset,
    0 4px 20px -4px rgba(0, 0, 0, 0.65),
    0 16px 48px -8px rgba(0, 0, 0, 0.70),
    0 0 0 1px rgba(10, 132, 255, 0.08);
}

/* ═══════════════════════════════════════════════════════
   TEXTO — Dark mode overrides
   ═══════════════════════════════════════════════════════ */

.dark .text-gray-900 {
  color: #F5F5F7 !important;
}

.dark .text-gray-800 {
  color: #E5E5EA !important;
}

.dark .text-gray-700 {
  color: #D1D1D6 !important;
}

.dark .text-gray-600 {
  color: #AEAEB2 !important;
}

.dark .text-gray-500 {
  color: #8E8E93 !important;
}

.dark .text-gray-400 {
  color: #636366 !important;
}

.dark .text-gray-300 {
  color: #48484A !important;
}

/* ═══════════════════════════════════════════════════════
   BORDAS — Dark mode overrides
   ═══════════════════════════════════════════════════════ */

.dark .border-black\/\[0\.04\] {
  border-color: rgba(255, 255, 255, 0.064) !important;
}

.dark .border-black\/\[0\.05\] {
  border-color: rgba(255, 255, 255, 0.080) !important;
}

.dark .border-black\/\[0\.06\] {
  border-color: rgba(255, 255, 255, 0.090) !important;
}

.dark .border-black\/\[0\.07\] {
  border-color: rgba(255, 255, 255, 0.100) !important;
}

.dark .border-black\/\[0\.08\] {
  border-color: rgba(255, 255, 255, 0.110) !important;
}

.dark .border-black\/\[0\.10\] {
  border-color: rgba(255, 255, 255, 0.130) !important;
}

.dark .divide-black\/\[0\.04\]>*+* {
  border-color: rgba(255, 255, 255, 0.060) !important;
}

/* ═══════════════════════════════════════════════════════
   BACKGROUNDS — Dark mode card overrides
   ═══════════════════════════════════════════════════════ */

.dark .bg-white,
.dark .bg-white\/70 {
  backdrop-filter: blur(20px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
  background: linear-gradient(160deg,
      rgba(255, 255, 255, 0.07) 0%,
      rgba(28, 28, 30, 0.92) 100%) !important;
  border-color: rgba(255, 255, 255, 0.09) !important;
  box-shadow:
    0 1px 0 0 rgba(255, 255, 255, 0.09) inset,
    0 4px 16px -4px rgba(0, 0, 0, 0.50) !important;
  color: #F5F5F7 !important;
}

.dark .bg-white\/70:hover,
.dark .bg-white:hover {
  background: linear-gradient(160deg,
      rgba(255, 255, 255, 0.10) 0%,
      rgba(44, 44, 46, 0.90) 100%) !important;
  border-color: rgba(10, 132, 255, 0.22) !important;
}

/* ═══════════════════════════════════════════════════════
   INPUTS — Apple-style
   ═══════════════════════════════════════════════════════ */

input,
select,
textarea {
  font-family: var(--font-geist-sans), -apple-system, sans-serif;
  font-size: 14px;
  letter-spacing: -0.012em;
}

.dark input,
.dark select,
.dark textarea {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
  color: #F5F5F7 !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: rgba(235, 235, 245, 0.30) !important;
}

/* Focus ring — Apple style */
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.22);
}

.dark input:focus-visible,
.dark select:focus-visible,
.dark textarea:focus-visible {
  box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.30);
}

/* ═══════════════════════════════════════════════════════
   BOTÕES & LINKS
   ═══════════════════════════════════════════════════════ */

button,
a {
  transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

button:active {
  transform: scale(0.97);
}

/* ═══════════════════════════════════════════════════════
   SCROLLBAR — Apple thin
   ═══════════════════════════════════════════════════════ */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(60, 60, 67, 0.24);
  border-radius: 99px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(60, 60, 67, 0.38);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(235, 235, 245, 0.16);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(235, 235, 245, 0.26);
}

/* ═══════════════════════════════════════════════════════
   UTILITÁRIOS
   ═══════════════════════════════════════════════════════ */

.tracking-tightest {
  letter-spacing: -0.05em !important;
}

/* Selection */
::selection {
  background: rgba(0, 113, 227, 0.18);
  color: inherit;
}

.dark ::selection {
  background: rgba(10, 132, 255, 0.28);
}